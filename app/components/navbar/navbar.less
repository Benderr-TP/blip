/**
 * Copyright (c) 2014, Tidepool Project
 *
 * This program is free software; you can redistribute it and/or modify it under
 * the terms of the associated License, which is identical to the BSD 2-Clause
 * License as published by the Open Source Initiative at opensource.org.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE. See the License for more details.
 *
 * You should have received a copy of the License along with this program; if
 * not, you can obtain one from Tidepool Project at tidepool.org.
 */

@navbar-logo-width:     50px;
@navbar-logo-height:    40px;
@navbar-item-vertical-padding:    @nav-item-vertical-padding;
@navbar-item-horizontal-padding:  @spacing-tiny;
@navbar-height:         (@navbar-logo-height + 2*@navbar-item-vertical-padding);

.navbar {
  margin-top: @spacing-base;
  margin-bottom: @spacing-base;

  @media(min-width: @screen-md-min) {
    margin-bottom: @spacing-large;
  }
}

.navbar a {
  color: @gray-dark;
  text-decoration: none;

  &:hover,
  &:focus {
    color: @gray-darkest;
    text-decoration: none;
  }

  &:active {
    color: @gray;
  }
}

.navbar-logo {
  > img {
    width: @navbar-logo-width;
    height: @navbar-logo-height;
  }
}

// Align vertically with logo
.navbar-version,
.navbar-user {
  margin-top: (@spacing-base/2);
  margin-bottom: (@spacing-base/2);
}

// Decrease default .nav items horizontal padding
.navbar {
  .nav > li {
    > a,
    .nav-text {
      display: block;
      padding-left: @navbar-item-horizontal-padding;
      padding-right: @navbar-item-horizontal-padding;
    }
  }

  .nav-left {
    margin-left: -@navbar-item-horizontal-padding;
  }

  .nav-right {
    margin-right: -@navbar-item-horizontal-padding;
  }
}

// Navbar labels
// ====================================

@navbar-label-font-size:          14px;
@navbar-label-line-height:        22px;
@navbar-label-horizontal-padding: @spacing-tiny;

// Warning: the spacings below are "hacks" so things align properly
// with Open Sans 14px as the label font
// Eventually will have to revisit this UI piece and make it a nicer,
// reusable component

.navbar-label {
  display: inline-block;

  padding-left: @navbar-label-horizontal-padding;
  padding-right: @navbar-label-horizontal-padding;

  font-size: @navbar-label-font-size;
  // "Hack" to make it look not too squeezed with font face and size
  line-height: @navbar-label-line-height;

  color: #fff;
  background-color: @gray-dark;
}

.navbar-label-link:hover > .navbar-label,
.navbar-label-link:focus > .navbar-label {
  background-color: @gray-darkest;
}

.navbar-label-link:active > .navbar-label {
  background-color: @gray;
}

.navbar-label-arrow-right {
  display: inline-block;

  width: 0;
  height: 0;
  border-top: (@navbar-label-line-height/2) solid transparent;
  border-bottom: (@navbar-label-line-height/2) solid transparent;

  border-left: 10px solid @gray-dark;

  // "Hack" to align vertically with label
  margin-bottom: -6px;
}

.navbar-label-right {
  padding-left: @spacing-base;
}

.navbar-label-link:hover > .navbar-label-arrow-right,
.navbar-label-link:focus > .navbar-label-arrow-right {
  border-left-color: @gray-darkest;
}

.navbar-label-link:active > .navbar-label-arrow-right {
  border-left-color: @gray;
}

.nav > li > a.navbar-label-link {
  color: #fff;
  background: none;

  // "Hack" for vertical padding
  padding: 9px @navbar-item-horizontal-padding;

  &:hover,
  &:focus {
    color: #fff;
    background: none;
  }
}

// Navbar user
// ====================================

.navbar-user-name {
  font-weight: bold;
}

// Navbar patient
// ====================================

.navbar-patient {
  text-align: center;
}

.navbar-patient-name {
  display: inline-block;
  font-weight: bold;
  font-size: 20px;
  line-height: 30px;

  padding: 0 @navbar-item-horizontal-padding;
}

.navbar-patient-links a {
  display: inline-block;
  font-weight: bold;
  font-size: 14px;
  line-height: 20px;

  padding: @spacing-tiny @navbar-item-horizontal-padding;
}

@media print {
  .navbar {
    margin-bottom: 40px;
    margin-top: 20px;
  }
  .navbar-patient {
    padding-top: 15px;
  }
  .navbar-patient-links {
    display: none;
  }
  .navbar-user-icon {
    display: none !important;
  }
  
  .navbar-label-arrow-right {
    background: transparent;
    color: @gray;
  }
  .navbar-label-arrow-right {
    display: none;
  }
}
